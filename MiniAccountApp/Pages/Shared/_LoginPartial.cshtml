@using Microsoft.AspNetCore.Identity
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager

@if (SignInManager.IsSignedIn(User))
{
    <div class="user-panel p-3 border-top">
        <div class="mb-2 text-muted">User Panel</div>
        <div class="mb-2">Hello, @User.Identity?.Name!</div>
        <form method="post" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@Url.Page("/Index", new { area = "" })">
            <button type="submit" class="btn btn-outline-danger btn-sm w-100">Logout</button>
        </form>
    </div>
}
else
{
    <nav class="nav flex-column">
        <a class="nav-link submenu-link" asp-area="Identity" asp-page="/Account/Login">
            <i class="bi bi-box-arrow-in-right me-2"></i>Login
        </a>
        <a class="nav-link submenu-link" asp-area="Identity" asp-page="/Account/Register">
            <i class="bi bi-person-plus me-2"></i>Register
        </a>
    </nav>
}
